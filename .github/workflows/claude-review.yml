# name: Custom Claude Review

# on:
#   pull_request:
#     types: [opened, synchronize]

# permissions:
#   contents: read
#   pull-requests: write

# jobs:
#   review:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 2

#       - name: Custom Claude Review
#         uses: anthropics/claude-code-action@v1
#         with:
#           prompt: |
#             🤖 **우리 팀의 AI 시니어 개발자**가 리뷰합니다!
            
#             **우리 팀 코딩 규칙:**
            
#             **Backend (Spring Boot + Kotlin):**
#             - 아키텍처: Hexagonal Architecture (Ports & Adapters) 준수
#               * Domain 레이어는 프레임워크 독립적이어야 함
#               * Application 레이어는 UseCase로 비즈니스 로직 오케스트레이션
#               * Infrastructure 레이어는 Port 구현 (Repository, External API)
#               * Presentation 레이어는 REST Controller만 포함
#             - 레이어 분리: @Service, @Repository 어노테이션으로 명확한 역할 분리
#             - 예외처리: 
#               * 비즈니스 예외는 커스텀 Exception 사용
#               * GlobalExceptionHandler에서 일괄 처리
#               * ApiResponse<T>로 표준화된 응답 형식 사용
#               * 에러 코드는 INVALID_REQUEST, NOT_FOUND, EXTERNAL_API_ERROR, INTERNAL_ERROR, RATE_LIMIT_EXCEEDED 중 하나
#             - 로깅: 
#               * Slf4j 사용 (LoggerFactory.getLogger)
#               * 개인정보는 로그에서 마스킹 필수
#               * DEBUG 레벨은 상세 정보, WARN/ERROR는 중요한 이벤트만
#             - API 설계:
#               * RESTful 원칙 준수
#               * ResponseEntity로 HTTP 상태 코드 명시
#               * 공통 응답 형식: ApiResponse<T> 사용
#               * 요청 검증: @Valid, @RequestBody 사용
#             - 테스트:
#               * 핵심 비즈니스 로직은 단위 테스트 필수
#               * Domain 레이어는 순수 Kotlin 테스트 (Mocking 없음)
#               * Application 레이어는 Port Mocking으로 테스트
#               * JUnit 5 사용
#               * 테스트 커버리지 80% 이상 유지
#             - 코드 스타일:
#               * Kotlin 코딩 컨벤션 준수
#               * ktlint 규칙 준수
#               * Java 21 타겟
            
#             **Frontend (Next.js + TypeScript):**
#             - 아키텍처: Next.js App Router 사용
#             - 컴포넌트 구조:
#               * app/ 디렉토리에 페이지 라우팅
#               * components/ 디렉토리에 재사용 가능한 컴포넌트
#               * lib/ 디렉토리에 유틸리티 함수
#             - 타입 안정성:
#               * TypeScript strict mode 사용
#               * any 타입 사용 금지
#               * 명시적 타입 정의 (types/ 디렉토리 활용)
#             - 스타일링:
#               * Tailwind CSS 4 사용
#               * 인라인 스타일 지양
#             - 코드 품질:
#               * ESLint 규칙 준수
#               * Prettier 포맷팅 적용
#               * React 19 베스트 프랙티스 준수
            
#             **공통 규칙:**
#             - Git 커밋: Conventional Commits 형식, 한글 메시지
#             - 보안: API 키는 환경 변수로 관리, 절대 하드코딩 금지
#             - 성능: 불필요한 외부 API 호출 최소화, 캐싱 활용
#             - 문서화: 복잡한 로직은 주석으로 설명
            
#             **리뷰 포인트:**
#             1. 아키텍처 원칙 준수 여부
#             2. 예외 처리 및 에러 응답 형식
#             3. 테스트 코드 작성 여부
#             4. 코드 중복 및 재사용성
#             5. 성능 및 보안 이슈
#             6. 네이밍 컨벤션 준수
#             7. 불필요한 의존성 추가 여부
            
#             위 규칙들을 기준으로 PR을 리뷰하고, 개선이 필요한 부분을 구체적으로 지적해주세요.
#           anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
#           claude_args: |
#             --model claude-sonnet-4-5-20250929
#             --max-turns 2
