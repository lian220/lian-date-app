# Jira 티켓 생성 계획서
## '데이트 딸깍' MVP

---

## Epic
| 키 | 제목 | 상태 |
|----|------|------|
| LAD-1 | [MVP] 데이트 코스 추천 기능 V1 | ✅ 생성완료 |

---

## F1. 데이트 조건 입력

> **User Story**: "사용자로서, 지역/데이트 유형/예산을 쉽고 빠르게 입력하고 싶다. 복잡한 설정 없이 핵심 조건만으로 추천받기 위해서다."

### 인수 조건 (Acceptance Criteria)
- [ ] **AC 1.1**: 지역 선택 바텀시트 (서울 20개 / 경기 10개 권역, 탭 구분, 검색 가능)
- [ ] **AC 1.1-1**: 권역 검색 기능 (검색어 하이라이트, 빈 결과 처리)
- [ ] **AC 1.2**: 데이트 유형 선택 (5개 유형, 아이콘+설명 카드)
- [ ] **AC 1.3**: 예산 선택 (4개 범위, 1인 기준 안내)
- [ ] **AC 1.4**: 조건 요약 및 코스 생성 요청
- [ ] **AC 1.5**: 필수 조건 미입력 방지 (버튼 비활성화)

### Frontend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [FE] 지역 선택 바텀시트 UI | 서울/경기 탭, 권역 카드/칩, 검색 필드 구현 | P0 |
| [FE] 권역 검색 기능 | 검색어 필터링, 하이라이트, 빈 상태 처리 | P0 |
| [FE] 데이트 유형 선택 UI | 5개 유형 카드 (아이콘, 설명 포함) | P0 |
| [FE] 예산 선택 UI | 4개 예산 범위 버튼, 힌트 텍스트 | P0 |
| [FE] 특별 요청 입력 필드 | 텍스트 입력 (최대 100자) | P1 |
| [FE] 조건 요약 확인 화면 | 선택 조건 요약, 제출 버튼 | P0 |

### Backend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [BE] 권역 목록 API | `GET /v1/regions` - 서울/경기 권역 데이터 반환 | P0 |
| [BE] Region 도메인 모델 | Region Entity, RegionId VO, RegionRepository | P0 |
| [BE] 권역 시드 데이터 | 서울 20개 + 경기 10개 권역 초기 데이터 | P0 |

---

## F2. AI 맞춤형 코스 추천

> **User Story**: "사용자로서, 내가 입력한 조건에 딱 맞는 데이트 코스를 AI가 추천해주길 원한다. 직접 검색하고 조합하는 수고를 덜기 위해서다."

### 인수 조건 (Acceptance Criteria)
- [ ] **AC 2.1**: 코스 생성 성공 (3개 장소, 시간대별 정렬, 예산 범위 내)
- [ ] **AC 2.2**: 코스 생성 시간 제한 (30초 이내, 타임아웃 처리)
- [ ] **AC 2.3**: 코스 재생성 기능 (동일 조건, 최소 1개 다른 장소)
- [ ] **AC 2.4**: 장소 데이터 유효성 (카카오맵 POI 검증, 폐업 제외)
- [ ] **AC 2.5**: 코스 생성 실패 처리 (에러 메시지, 재시도 버튼)

### Frontend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [FE] 코스 생성 로딩 UI | 로딩 인디케이터, 안내 메시지, 타임아웃 처리 | P0 |
| [FE] 코스 결과 카드 리스트 | 3개 장소 카드 (장소명, 카테고리, 비용, 추천이유) | P0 |
| [FE] 코스 타임라인 UI | 시간대별 순서, 이동시간 표시 | P0 |
| [FE] 다른 코스 보기 버튼 | 재생성 요청, 재생성 횟수 표시 | P1 |
| [FE] 코스 생성 에러 처리 | 에러 메시지, 재시도/조건수정 버튼 | P0 |

### Backend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [BE] 코스 생성 API | `POST /v1/courses` - 조건 기반 코스 생성 | P0 |
| [BE] 코스 재생성 API | `POST /v1/courses/{id}/regenerate` - 장소 제외 재생성 | P1 |
| [BE] Course 도메인 모델 | Course Entity, CoursePlace, Route, Value Objects | P0 |
| [BE] CreateCourseUseCase | 코스 생성 비즈니스 로직 (Application Layer) | P0 |
| [BE] OpenAI 연동 어댑터 | AiGenerationPort 구현, GPT-4 프롬프트 설계 | P0 |
| [BE] 카카오 Local API 연동 | PlaceSearchPort 구현, 장소 검색/검증 | P0 |
| [BE] 경로 계산 서비스 | 장소 간 이동시간/거리 계산 | P1 |
| [BE] Rate Limiting | 코스 생성 10회/분, 재생성 5회/분 제한 | P1 |

---

## F3. 코스 상세 보기 및 장소 정보

> **User Story**: "사용자로서, 추천된 각 장소의 상세 정보를 확인하고 싶다. 실제로 방문하기 전에 장소를 파악하고 판단하기 위해서다."

### 인수 조건 (Acceptance Criteria)
- [ ] **AC 3.1**: 코스 지도 표시 (카카오맵, 마커 번호, 경로 점선)
- [ ] **AC 3.2**: 장소 상세 정보 (바텀시트, 주소복사, 전화연결, 추천이유)
- [ ] **AC 3.3**: 카카오맵 연동 (앱/웹 딥링크)
- [ ] **AC 3.4**: 장소 간 길찾기 (카카오맵 길찾기 실행)

### Frontend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [FE] 카카오맵 지도 컴포넌트 | 지도 렌더링, 줌/이동 컨트롤 | P0 |
| [FE] 장소 마커 표시 | 순서 번호 마커, 경로 점선 연결 | P0 |
| [FE] 장소 상세 바텀시트 | 장소명, 카테고리, 주소, 영업시간, 전화번호, 평점 | P0 |
| [FE] 주소 클립보드 복사 | 탭 시 복사, 토스트 메시지 | P1 |
| [FE] 전화 연결 기능 | 전화번호 탭 시 전화앱 연결 | P1 |
| [FE] 카카오맵 딥링크 | 앱 설치 여부에 따른 분기 처리 | P0 |
| [FE] 길찾기 버튼 | 장소 간 카카오맵 길찾기 실행 | P1 |

### Backend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [BE] 코스 상세 조회 API | `GET /v1/courses/{courseId}` | P0 |
| [BE] 장소 상세 조회 API | `GET /v1/places/{placeId}` - 카카오 프록시 | P0 |
| [BE] GetPlaceDetailUseCase | 장소 상세 정보 조회 로직 | P0 |
| [BE] 영업시간 파싱 로직 | 카카오 API 영업시간 데이터 정규화 | P1 |

---

## F4. 코스 저장 (로컬 스토리지)

> **User Story**: "사용자로서, 마음에 드는 코스를 저장하고 나중에 다시 보고 싶다. 로그인 없이도 내 브라우저에서 저장한 코스를 확인하기 위해서다."

### 인수 조건 (Acceptance Criteria)
- [ ] **AC 4.1**: 코스 저장 (하트 버튼, 토스트 메시지, 로컬 스토리지)
- [ ] **AC 4.2**: 내 코스 목록 조회 (최신순, 빈 상태 처리)
- [ ] **AC 4.3**: 저장된 코스 삭제 (확인 다이얼로그)
- [ ] **AC 4.4**: 저장 용량 제한 안내 (최대 20개)
- [ ] **AC 4.5**: 브라우저 데이터 안내 (로컬 저장 한계 안내)

### Frontend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [FE] 코스 저장 버튼 | 하트 아이콘 토글, 저장/해제 상태 | P0 |
| [FE] 로컬 스토리지 서비스 | 코스 CRUD, 최대 20개 관리 | P0 |
| [FE] 내 코스 목록 화면 | 저장된 코스 카드 리스트, 최신순 정렬 | P0 |
| [FE] 빈 상태 UI | "아직 저장한 코스가 없어요" 화면 | P1 |
| [FE] 코스 삭제 다이얼로그 | 확인/취소 모달 | P1 |
| [FE] 저장 용량 초과 안내 | 20개 초과 시 안내 모달 | P1 |
| [FE] 브라우저 저장 안내 배너 | 하단 안내 문구 | P2 |

### Backend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| - | (F4는 프론트엔드 로컬 스토리지 기반, 백엔드 작업 없음) | - |

---

## F5. 코스 만족도 평가

> **User Story**: "사용자로서, 추천받은 코스에 대한 피드백을 남기고 싶다. 서비스 개선에 기여하고 더 나은 추천을 받기 위해서다."

### 인수 조건 (Acceptance Criteria)
- [ ] **AC 5.1**: 즉시 만족도 평가 (5점 별점/이모지, 1회 제한)
- [ ] **AC 5.2**: 평가 스킵 가능 (강제 아님)
- [ ] **AC 5.3**: 평가 데이터 수집 (익명 세션 ID, 통계용)

### Frontend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [FE] 만족도 평가 UI | 5개 별점 또는 이모지 선택 | P0 |
| [FE] 평가 완료 상태 UI | "감사합니다" 메시지, 비활성화 | P1 |
| [FE] 익명 세션 ID 관리 | UUID 생성, 로컬 저장, 헤더 전송 | P0 |

### Backend Tasks
| Task | 설명 | 우선순위 |
|------|------|----------|
| [BE] 만족도 평가 API | `POST /v1/courses/{courseId}/ratings` | P0 |
| [BE] Rating 도메인 모델 | Rating Entity, RatingRepository | P0 |
| [BE] RateCourseUseCase | 평가 저장 로직 (중복 평가 방지) | P0 |
| [BE] 평가 통계 집계 | 코스별/조건별 평균 평점 계산 | P2 |

---

## 티켓 요약

### 전체 현황

| 구분 | 수량 |
|------|------|
| Epic | 1 |
| Story | 5 |
| Frontend Sub-tasks | 28 |
| Backend Sub-tasks | 18 |
| **총합** | **52개** |

### 기능별 분포

| 기능 | Story | FE Tasks | BE Tasks |
|------|-------|----------|----------|
| F1. 조건 입력 | 1 | 6 | 3 |
| F2. AI 코스 추천 | 1 | 5 | 8 |
| F3. 코스 상세 | 1 | 7 | 4 |
| F4. 코스 저장 | 1 | 7 | 0 |
| F5. 만족도 평가 | 1 | 3 | 4 |

### 우선순위 분포

| 우선순위 | 설명 | 수량 |
|----------|------|------|
| **P0** | MVP 필수 (출시 차단) | 32 |
| **P1** | MVP 권장 (UX 향상) | 14 |
| **P2** | Nice to have | 3 |

---

## 다음 단계

1. ✅ Epic 생성 완료 (LAD-1)
2. ⏳ Story 5개 생성 (Epic 연결)
3. ⏳ Sub-task 생성 (FE/BE 구분)
4. ⏳ 우선순위 및 스프린트 배정
