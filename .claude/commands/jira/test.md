# Jira 통합 테스트

개발 완료 후 통합 테스트를 실행합니다.

## 인자
- 테스트 타입: frontend, backend, e2e, all (기본값: all)

## 실행 내용

$ARGUMENTS

### 단계 1: Worktree 환경 포트 충돌 확인
1. .env 파일에서 BACKEND_PORT, FRONTEND_PORT 확인
2. 설정되지 않았으면 사용 가능한 포트 자동 할당
3. 포트 사용 중인지 확인 (lsof 사용)
4. 충돌 시 명확한 에러 메시지와 해결 방법 제시:
   - 다른 worktree의 서비스 종료
   - 또는 이 worktree에 다른 포트 할당

### 단계 2: 독립적인 테스트 환경 시작
1. 포트 사용 가능 확인 완료 후 서비스 시작
2. Docker Compose로 서비스 실행 (환경변수 포트 사용)
3. 헬스체크 대기 (Backend /health, Frontend /)
4. 테스트 준비 완료 확인

### 단계 3: 코드 품질 검사
1. TypeScript 타입 체크 실행
2. ESLint/Prettier 검사
3. 단위 테스트 실행
4. 테스트 커버리지 확인

### 단계 4: 통합 테스트
1. 관련 컴포넌트 통합 테스트
2. API 엔드포인트 테스트 (해당 시)
3. E2E 테스트 실행 (Playwright 사용)
4. 접근성 검사 (해당 시)

### 테스트 타입별 실행
- **frontend**: 컴포넌트 테스트, 스냅샷 테스트
- **backend**: API 테스트, 서비스 로직 테스트
- **e2e**: Playwright 브라우저 테스트
- **all**: 전체 테스트 스위트

### 출력
- 테스트 결과 요약
- 실패한 테스트 상세 정보
- 커버리지 리포트
- 수정이 필요한 항목 목록
